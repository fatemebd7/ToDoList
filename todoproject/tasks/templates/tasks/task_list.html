{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
    <h1>My Tasks</h1>
    <div>
        <a href="{% url 'task_create' %}" class="btn btn-primary">+ Add Task</a>
        <a href="{% url 'logout' %}" class="btn btn-outline-secondary">Logout</a>
    </div>
</div>

{% if tasks %}
<table class="table table-striped">
<thead>
<tr><th>Title</th><th>Priority</th><th>Due Date</th><th>Status</th><th>Actions</th></tr>
</thead>
<tbody>
{% for task in tasks %}
<tr>
<td>{% if task.completed %}<s>{{ task.title }}</s>{% else %}{{ task.title }}{% endif %}</td>
<td>{{ task.priority|title }}</td>
<td>{{ task.due_date }}</td>
<td>{% if task.completed %}<span class="badge bg-success">Done</span>{% else %}<span class="badge bg-warning">Pending</span>{% endif %}</td>
<td>
<a href="{% url 'task_toggle' task.id %}" class="btn btn-sm btn-outline-success">Toggle</a>
<a href="{% url 'task_delete' task.id %}" class="btn btn-sm btn-outline-danger">Delete</a>
</td>
</tr>
{% endfor %}
</tbody>
</table>
{% else %}
<div class="alert alert-info">No tasks yet!</div>
{% endif %}
{% endblock %}
